<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>Panel Creation Automation</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&amp;display=swap" rel="stylesheet"/>
  <style>
   body {
      font-family: 'Inter', sans-serif;
    }
  </style>
<header class="bg-white shadow-md">
  <div class="container mx-auto px-4 py-4 flex items-center justify-between">
    <button class="md:hidden text-gray-700 focus:outline-none" id="menu-btn" aria-label="Toggle menu">
      <i class="fas fa-ellipsis-v fa-lg"></i> <!-- Titik tiga vertikal -->
    </button>
    <h1 class="text-2xl font-semibold text-indigo-600 ml-4">
      Auto Panel Creator
    </h1>
    <nav class="space-x-4 hidden md:flex items-center">
      <a class="text-gray-700 hover:text-indigo-600 font-medium" href="index.html">
        Home
      </a>
      <a class="text-gray-700 hover:text-indigo-600 font-medium" href="#create">
        Create Panel
      </a>
      <a class="text-gray-700 hover:text-indigo-600 font-medium" href="#specs">
        Specs Info
      </a>
      <a class="text-gray-700 hover:text-indigo-600 font-medium" href="#about">
        About
      </a>
    </nav>
  </div>
  <div class="hidden md:hidden bg-white border-t border-gray-200" id="mobile-menu">
    <a class="block px-4 py-3 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 font-medium" href="index.html">
      Home
    </a>
    <a class="block px-4 py-3 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 font-medium" href="#create">
      Create Panel
    </a>
    <a class="block px-4 py-3 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 font-medium" href="#specs">
      Specs Info
    </a>
    <a class="block px-4 py-3 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 font-medium" href="#about">
      About
    </a>
  </div>
</header>
  <main class="flex-grow container mx-auto px-4 py-8">
   <section class="max-w-3xl mx-auto bg-white rounded-lg shadow p-6" id="create">
    <h2 class="text-3xl font-semibold text-indigo-700 mb-6 text-center">Create Your Panel</h2>
    <form class="space-y-6" id="panelForm">
     <div>
      <label class="block text-gray-700 font-medium mb-2" for="username">Username</label>
      <input class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" id="username" name="username" placeholder="Enter username" required type="text"/>
     </div>
     <div>
      <label class="block text-gray-700 font-medium mb-2" for="plan">Select Plan</label>
      <select class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" id="plan" name="plan" required>
       <option disabled selected value="">Select a plan</option>
       <option value="1gb-v2">1GB - 40% CPU - 1GB Disk</option>
       <option value="2gb-v2">2GB - 60% CPU - 1GB Disk</option>
       <option value="3gb-v2">3GB - 80% CPU - 2GB Disk</option>
       <option value="4gb-v2">4GB - 100% CPU - 2GB Disk</option>
       <option value="5gb-v2">5GB - 120% CPU - 3GB Disk</option>
       <option value="6gb-v2">6GB - 140% CPU - 3GB Disk</option>
       <option value="7gb-v2">7GB - 160% CPU - 4GB Disk</option>
       <option value="8gb-v2">8GB - 180% CPU - 4GB Disk</option>
       <option value="9gb-v2">9GB - 200% CPU - 5GB Disk</option>
       <option value="10gb-v2">10GB - 220% CPU - 5GB Disk</option>
       <option value="unlimited-v2">Unlimited - Unlimited CPU & Disk</option>
      </select>
     </div>
     <button class="w-full bg-indigo-600 text-white font-semibold py-3 rounded-md hover:bg-indigo-700 transition" type="submit">Create Panel</button>
    </form>
    <div class="mt-8 p-4 bg-green-50 border border-green-300 rounded-md hidden whitespace-pre-wrap font-mono text-sm" id="result"></div>
    <div class="mt-8 p-4 bg-red-50 border border-red-300 rounded-md hidden text-red-700 font-semibold" id="error"></div>
   </section>
   <!-- ... (Plan specs and About sections remain unchanged) -->
  </main>
  <footer class="bg-white border-t border-gray-200 py-6 mt-16">
   <div class="container mx-auto px-4 text-center text-gray-600 text-sm">Â© 2024 VinnMyPanelHost. All rights reserved.</div>
  </footer>
  <script>
   // Mobile menu toggle
    const menuBtn = document.getElementById('menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    menuBtn.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });

    // Global settings
    const globalSettings = {
      eggV2: "15",
      nestidV2: "5",
      locV2: "1",
      domainV2: "https://shenzu-privatevip.zyydev.my.id",
      apikeyV2: "ptla_qfhajKokZcSGbwfyuQ12fsmn3VfTxrfYPkeWrOxwId4",
      capikeyV2: "ptlc_rWnJr572hkP17usDo9j3lJrOOnuyLKvDeZ5D8wQCgbG"
    };

    const planSpecs = {
      "1gb-v2": { ram: 1000, disk: 1000, cpu: 40 },
      "2gb-v2": { ram: 2000, disk: 1000, cpu: 60 },
      "3gb-v2": { ram: 3000, disk: 2000, cpu: 80 },
      "4gb-v2": { ram: 4000, disk: 2000, cpu: 100 },
      "5gb-v2": { ram: 5000, disk: 3000, cpu: 120 },
      "6gb-v2": { ram: 6000, disk: 3000, cpu: 140 },
      "7gb-v2": { ram: 7000, disk: 4000, cpu: 160 },
      "8gb-v2": { ram: 8000, disk: 4000, cpu: 180 },
      "9gb-v2": { ram: 9000, disk: 5000, cpu: 200 },
      "10gb-v2": { ram: 10000, disk: 5000, cpu: 220 },
      "unlimited-v2": { ram: 0, disk: 0, cpu: 0 }
    };

    // Simulate permission check
    const isCreator = true;

    // Function to generate random hex string (simulate crypto.randomBytes)
    function randomHex(len = 4) {
      let result = '';
      const chars = 'abcdef0123456789';
      for (let i = 0; i < len; i++) {
        result += chars.charAt(Math.floor(Math.random() * chars.length));
      }
      return result;
    }

    // Form submit handler
    document.getElementById('panelForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      const username = e.target.username.value.trim();
      const plan = e.target.plan.value;
      const resultDiv = document.getElementById('result');
      const errorDiv = document.getElementById('error');
      resultDiv.classList.add('hidden');
      errorDiv.classList.add('hidden');
      resultDiv.textContent = '';
      errorDiv.textContent = '';

      if (!isCreator) {
        errorDiv.textContent = "You do not have permission to create a panel.";
        errorDiv.classList.remove('hidden');
        return;
      }
      if (!username) {
        errorDiv.textContent = "Please enter a username.";
        errorDiv.classList.remove('hidden');
        return;
      }
      if (!planSpecs[plan]) {
        errorDiv.textContent = "Please select a valid plan.";
        errorDiv.classList.remove('hidden');
        return;
      }

      const specs = planSpecs[plan];

      // Prepare data payload
      const postData = {
        username: username.toLowerCase(),
        ram: specs.ram,
        disk: specs.disk,
        cpu: specs.cpu,
        egg: globalSettings.eggV2,
        nest: globalSettings.nestidV2,
        location: globalSettings.locV2,
        // Add other necessary data here
      };

      try {
        const response = await fetch(globalSettings.domainV2 + "/api/create-panel", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "Authorization": "Bearer " + globalSettings.apikeyV2
          },
          body: JSON.stringify(postData)
        });

        if (!response.ok) {
          throw new Error("Failed to create panel: " + response.status + " " + response.statusText);
        }

        const data = await response.json();
        resultDiv.textContent = "Panel created successfully:\n" + JSON.stringify(data, null, 2);
        resultDiv.classList.remove('hidden');
      } catch (err) {
        errorDiv.textContent = "Error: " + err.message;
        errorDiv.classList.remove('hidden');
      }
    });
  </script>
 </body>
</html>
